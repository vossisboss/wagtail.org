{% extends "patterns/base_page.html" %}

{% load static i18n wagtailcore_tags wagtailembeds_tags %}

{% block body_class %}template-showcase{% endblock %}

{% block title %}Wagtail CMS - {% firstof page.seo_title page.title %}{% endblock %}
{% block title_suffix %}{% endblock %}

{% block content %}
    <div class="showcase_page__hero showcase_page__content">
        <h1 class="showcase_page__title">{{ page.title }}</h1>
        {% if page.introduction %}<div class="showcase_page__intro">{{ page.introduction }}</div>{% endif %}
    </div>
    <div class="showcase_page__content">
        <form
        >
            <div class="select-wrapper">
                <select
                    name="sector"
                    id="id_sector"
                    class="select-wrapper__select"
                    hx-get="{% pageurl page %}"
                    hx-trigger="click changed"
                    hx-target="#showcase_results"
                    placeholder="Filtering..."
                    hx-swap="outerHTML"
                    aria-label="Filter by sector"
                >
                    {% for name, selected in sectors.items %}
                        <option {{ selected }} value="{{ name }}">{{ name }}</option>
                    {% endfor %}
                </select>
            </form>
        </div>

        {% include "patterns/pages/showcase_page/showcase_page_fragment.html" %}

        <div class="showcase_page__detail">
            <p>List curated by the Wagtail core team.</p>
        </div>
    </div>
    {% if page.cta %}
        {% include_block page.cta with classes="cta--alt" %}
    {% endif %}
{% endblock %}
